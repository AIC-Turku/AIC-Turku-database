# {{ instrument.display_name }} Â· History

<div class="aic-topactions" markdown="span">
  [ðŸ”™ Back to Overview](./){ .md-button }
</div>

## Latest Metric Snapshot

| Metric | Latest Value |
|---|---|
{% for metric_id, value in latest_metrics.items() -%}
| **{{ metric_names.get(metric_id, metric_id) }}** <br><span class="aic-muted"><code>{{ metric_id }}</code></span> | <code>{{ value | default('â€”', true) }}</code> |
{% else -%}
| â€” | â€” |
{% endfor %}

## Metrics Over Time

<div id="chartsContainer" class="aic-chartgrid"></div>

<script>
document.addEventListener('DOMContentLoaded', function() {
  const chartsData = {{ charts_json }};
  const metricNames = {{ metric_names | tojson | safe }};
  const container = document.getElementById('chartsContainer');
  if (!container || !window.Chart) return;

  for (const [metricId, chartConfig] of Object.entries(chartsData)) {
    const readableTitle = metricNames[metricId] || metricId;

    const wrapper = document.createElement('div');
    wrapper.className = 'aic-chartcard';

    const title = document.createElement('div');
    title.className = 'aic-chartcard__title';
    title.textContent = readableTitle;
    wrapper.appendChild(title);

    const canvas = document.createElement('canvas');
    wrapper.appendChild(canvas);
    container.appendChild(wrapper);

    new Chart(canvas, {
      type: 'line',
      data: chartConfig,
      options: {
        responsive: true,
        plugins: { legend: { display: false } },
        scales: { y: { beginAtZero: false } }
      }
    });
  }
});
</script>

## Event Log

### QC Events

| Date | Suite/Type | Status |
|---|---|---|
{% for event in qc_events | default([], true) -%}
| [{{ event.date | default('Unknown', true) }}](../../events/{{ event.event_id }}.md) | {{ event.suite | default(event.type, true) | default('â€”', true) }} | {{ event.status | default('â€”', true) }} |
{% else -%}
| â€” | â€” | â€” |
{% endfor %}

### Maintenance Events

| Date | Suite/Type | Status |
|---|---|---|
{% for event in maintenance_events | default([], true) -%}
| [{{ event.date | default('Unknown', true) }}](../../events/{{ event.event_id }}.md) | {{ event.suite | default(event.type, true) | default('â€”', true) }} | {{ event.status | default('â€”', true) }} |
{% else -%}
| â€” | â€” | â€” |
{% endfor %}
