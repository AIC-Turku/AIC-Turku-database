# {{ display_name }} - History

[ðŸ”™ Back to Specifications](spec.md){ .md-button }

## Latest Metric Snapshot

| Metric | Latest Value |
|--------|--------------|
{% for metric_id, value in latest_metrics.items() -%}
| {{ metric_id }} | {{ value | default('â€”', true) }} |
{% else -%}
| â€” | â€” |
{% endfor %}

## Metrics Over Time

<div>
<div id="chartsContainer" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr)); gap: 20px;"></div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
document.addEventListener("DOMContentLoaded", function() {
    const chartsData = {{ charts_json }};
    const container = document.getElementById('chartsContainer');

    // Retrieve the python dictionary for readable names
    const metricNames = {{ metric_names | tojson | safe }};

    for (const [metricId, chartConfig] of Object.entries(chartsData)) {
        const readableTitle = metricNames[metricId] || metricId;

        const wrapper = document.createElement('div');
        wrapper.style.border = '1px solid var(--md-default-fg-color--lightest)';
        wrapper.style.padding = '10px';
        wrapper.style.borderRadius = '8px';
        wrapper.style.backgroundColor = 'var(--md-default-bg-color)';
        
        const canvas = document.createElement('canvas');
        wrapper.appendChild(canvas);
        container.appendChild(wrapper);

        new Chart(canvas, {
            type: 'line',
            data: chartConfig,
            options: {
                responsive: true,
                plugins: {
                    legend: { display: false },
                    title: { display: true, text: readableTitle, font: { size: 14 } }
                }
            }
        });
    }
});
</script>
</div>


## Event Log

### QC Events

| Date | Suite/Type | Status |
|------|------------|--------|
{% for event in qc_events | default([], true) -%}
| [{{ event.date | default('Unknown', true) }}](../../events/{{ event.event_id }}.md) | {{ event.suite | default(event.type, true) | default('â€”', true) }} | {{ event.status | default('â€”', true) }} |
{% else -%}
| â€” | â€” | â€” |
{% endfor %}

### Maintenance Events

| Date | Suite/Type | Status |
|------|------------|--------|
{% for event in maintenance_events | default([], true) -%}
| [{{ event.date | default('Unknown', true) }}](../../events/{{ event.event_id }}.md) | {{ event.suite | default(event.type, true) | default('â€”', true) }} | {{ event.status | default('â€”', true) }} |
{% else -%}
| â€” | â€” | â€” |
{% endfor %}
