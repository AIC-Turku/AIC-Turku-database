# {{ display_name }}

!!! success "Current Status: {{ status_indicator | default('ðŸŸ¢ Online', true) }}"

[ðŸ“Š View Full History & QC Logs](history.md){ .md-button .md-button--primary }

## Hardware Configurations

### Light Sources

| Name | Type | Wavelength | Notes |
|------|------|------------|-------|
{% for source in light_sources | default([], true) -%}
| {{ source.name | default('â€”', true) }} | {{ source.type | default('â€”', true) }} | {{ source.wavelength | default('â€”', true) }} | {{ source.notes | default('â€”', true) }} |
{% else -%}
| â€” | â€” | â€” | â€” |
{% endfor %}

### Detectors

| Name | Type | Model | Notes |
|------|------|-------|-------|
{% for detector in detectors | default([], true) -%}
| {{ detector.name | default('â€”', true) }} | {{ detector.type | default('â€”', true) }} | {{ detector.model | default('â€”', true) }} | {{ detector.notes | default('â€”', true) }} |
{% else -%}
| â€” | â€” | â€” | â€” |
{% endfor %}

### Objectives

| Name | Magnification | NA | Notes |
|------|---------------|----|-------|
{% for objective in objectives | default([], true) -%}
| {{ objective.name | default('â€”', true) }} | {{ objective.magnification | default('â€”', true) }} | {{ objective.na | default('â€”', true) }} | {{ objective.notes | default('â€”', true) }} |
{% else -%}
| â€” | â€” | â€” | â€” |
{% endfor %}

## Latest Metric Snapshot

| Metric | Latest Value |
|--------|--------------|
{% for metric_id, value in latest_metrics.items() -%}
| {{ metric_id }} | {{ value | default('â€”', true) }} |
{% else -%}
| â€” | â€” |
{% endfor %}

## QC Metrics Overview

### Latest Measurements
| Metric | Value |
|--------|-------|
{% for m_id, m_val in latest_metrics.items() %}
| `{{ m_id }}` | {{ m_val }} |
{% else %}
| No recent measurements | - |
{% endfor %}

### Metric Trends

<div>
<div id="chartsContainer" style="display: grid; grid-template-columns: repeat(auto-fill, minmax(350px, 1fr)); gap: 20px;"></div>

<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
document.addEventListener("DOMContentLoaded", function() {
    const chartsData = {{ charts_json }};
    const container = document.getElementById('chartsContainer');

    for (const [metricId, chartConfig] of Object.entries(chartsData)) {
        const wrapper = document.createElement('div');
        wrapper.style.border = '1px solid var(--md-default-fg-color--lightest)';
        wrapper.style.padding = '10px';
        wrapper.style.borderRadius = '8px';
        wrapper.style.backgroundColor = 'var(--md-default-bg-color)';
        
        const canvas = document.createElement('canvas');
        wrapper.appendChild(canvas);
        container.appendChild(wrapper);

        new Chart(canvas, {
            type: 'line',
            data: chartConfig,
            options: {
                responsive: true,
                plugins: {
                    legend: { display: false },
                    title: { display: true, text: metricId }
                }
            }
        });
    }
});
</script>
</div>
