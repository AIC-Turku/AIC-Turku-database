---
hide:
  - navigation
  - toc
---

# ğŸ“ Event: {{ event_id }}

<div class="aic-topactions" markdown="1">

[ğŸ”™ Back to Overview](../instruments/{{ instrument_id }}/index.md){ .md-button }
[ğŸ“Š View Full History](../instruments/{{ instrument_id }}/history.md){ .md-button .md-button--primary }

</div>

## ğŸ“Š Report Overview

<div class="aic-grid">

  <div class="aic-card">
    <div class="aic-card__body">
      <div class="aic-card__title">Event Metadata</div>
      <div class="aic-kv">
        <div><span class="aic-muted">Record Type</span><br>{{ payload.get('record_type', 'â€”') | title }}</div>
        <div><span class="aic-muted">Reason / Suite</span><br>{{ payload.get('reason', 'â€”') }}</div>
        <div><span class="aic-muted">Operator</span><br>{{ operator | default('â€”', true) }}</div>
        <div><span class="aic-muted">Instrument</span><br><code>{{ instrument | default(instrument_id, true) }}</code></div>
      </div>
    </div>
  </div>

  {% if payload.get('evaluation') %}
  <div class="aic-card">
    <div class="aic-card__body">
      <div class="aic-card__title">QC Evaluation</div>
      {% set eval = payload.get('evaluation', {}) %}
      {% set status = eval.get('overall_status', 'unknown') %}
      {% set badge_color = 'green' if status == 'pass' else 'yellow' if status == 'warn' else 'red' if status == 'fail' else 'gray' %}
      
      <div style="margin: 0.5rem 0 1rem;">
        <span class="aic-badge aic-badge--{{ badge_color }}">{{ status | upper }}</span>
      </div>
      
      {% if eval.get('results') %}
        {% for res in eval.get('results', []) %}
          <div style="font-size: 0.9rem; margin-bottom: 0.4rem;">
            <strong>{{ res.get('metric_id', 'Rule') }}</strong>: {{ res.get('message', '') }}
          </div>
        {% endfor %}
      {% endif %}
    </div>
  </div>
  {% endif %}

  {% if payload.get('action') or payload.get('microscope_status_after') %}
  <div class="aic-card">
    <div class="aic-card__body">
      <div class="aic-card__title">Maintenance Action</div>
      <p style="font-size: 0.95rem; margin-bottom: 0.5rem;">{{ payload.get('action', 'â€”') }}</p>
      {% if payload.get('reason_details') %}
        <p style="font-size: 0.9rem; color: var(--md-default-fg-color--light);"><em>{{ payload.get('reason_details') }}</em></p>
      {% endif %}
      <div style="margin-top: 1rem;">
        <span class="aic-muted" style="font-size: 0.85rem;">Status After:</span><br>
        <code>{{ payload.get('microscope_status_after', 'â€”') | upper }}</code>
      </div>
    </div>
  </div>
  {% endif %}

</div>

{% if payload.get('metrics_computed') %}
## ğŸ“ Computed Metrics

| Metric ID | Value |
|---|---|
{% for m in payload.get('metrics_computed', []) -%}
| <code>{{ m.get('metric_id') }}</code> | **{{ m.get('value') }}** |
{% endfor %}

{% endif %}

## ğŸ“„ Raw YAML Ledger

```yaml title="{{ event_id }}.yaml"
{{ raw_yaml_content }}
